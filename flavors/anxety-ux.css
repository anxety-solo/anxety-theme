:root {
  /* ACCENT COLOR | THEME STYLE */
  --ctp-anxety: #db88ae;
  --ctp-error: #ff6747;
  --ctp-border-radius: 8px;

  --ctp-pink: #d9b8b8;
  --ctp-red: #ff5252;
  --ctp-peach: #f6d992;
  --ctp-yellow: #e9d700;
  --ctp-green: #77ab59;
  --ctp-blue: #6d90c8;

  /* UI COLOR */
  --ctp-text: #d1d5d7;
  --ctp-subtext2: #939a9c;
  --ctp-subtext1: #d3dce0;
  --ctp-subtext0: #bbc2c6;
  --ctp-overlay2: #242424;
  --ctp-overlay1: #1c1c1c;
  --ctp-overlay0: #141414;
  --ctp-surface2: #475254;
  --ctp-surface1: #3d4142;
  --ctp-surface0: #22282a;
  --ctp-base2: #232323;
  --ctp-base1: #171717;
  --ctp-base0: #131313;

  --ctp-mantle: #0b0b0b;
  --shadow: #010409;

  --ctp-accent: var(--ctp-anxety);
  color-scheme: dark;
}

:root, .dark {
  /* Basic colors and background */
  --color-accent: var(--ctp-accent);

  --body-background-fill: var(--background-fill-primary);
  --body-text-color: var(--ctp-subtext0);
  --body-text-color-subdued: var(--ctp-subtext2);
  --background-fill-primary: var(--ctp-mantle);
  --background-fill-secondary: var(--ctp-base0);
  --color-accent-soft: var(--ctp-surface0);
  /* Borders */
  --border-color-accent: var(--ctp-surface0);
  --border-color-primary: var(--ctp-surface0);
  --border-color-accent-subdued: var(--border-color-accent);
  /* Links */
  --link-text-color: var(--ctp-subtext0);
  --link-text-color-hover: var(--ctp-accent);
  --link-text-color-active: var(--ctp-subtext0);
  --link-text-color-visited: var(--ctp-subtext0);
  /* Blocks */
  --block-background-fill: var(--background-fill-primary);
  --block-border-color: var(--border-color-primary);
  --block-border-width: none;
  --block-info-text-color: var(--body-text-color-subdued);
  --block-label-background-fill: var(--background-fill-secondary);
  --block-label-border-color: var(--border-color-primary);
  --block-label-border-width: none;
  --block-label-text-color: var(--ctp-text);
  --block-title-text-color: var(--ctp-text);
  --block-shadow: none;
  --block-title-background-fill: none;
  --block-title-border-color: none;
  --block-title-border-width: none;
  /* Panels */
  --panel-background-fill: var(--background-fill-secondary);
  --panel-border-color: var(--border-color-primary);
  --panel-border-width: none;
  /* Tables */
  --table-border-color: var(--ctp-surface1);
  --table-even-background-fill: var(--ctp-base1);
  --table-odd-background-fill: var(--ctp-base2);
  --table-row-focus: var(--color-accent-soft);
  /* Checkboxes */
  --checkbox-background-color: var(--ctp-surface1);
  --checkbox-background-color-focus: var(--checkbox-background-color);
  --checkbox-background-color-hover: var(--ctp-surface2);
  --checkbox-background-color-selected: var(--ctp-accent);
  --checkbox-border-color: var(--ctp-surface2);
  --checkbox-border-color-focus: transparent;;
  --checkbox-border-color-hover: transparent;
  --checkbox-border-color-selected: transparent;
  --checkbox-border-width: var(--input-border-width);
  --checkbox-label-background-fill: var(--ctp-surface0);
  --checkbox-label-background-fill-hover: var(--checkbox-label-background-fill);
  --checkbox-label-background-fill-selected: var(--ctp-surface1);
  --checkbox-label-border-color: var(--border-color-primary);
  --checkbox-label-border-color-hover: var(--checkbox-label-border-color);
  --checkbox-label-border-width: var(--input-border-width);
  --checkbox-label-text-color: var(--body-text-color);
  --checkbox-label-text-color-selected: var(--checkbox-label-text-color);
  /* Errors */
  --error-background-fill: var(--background-fill-primary);
  --error-border-color: var(--ctp-accent);
  --error-border-width: none;
  --error-text-color: var(--ctp-text);
  --error-icon-color: var(--ctp-accent);
  /* Inputs */
  --input-background-fill: var(--ctp-base1);
  --input-background-fill-focus: var(--input-background-fill);
  --input-background-fill-hover: var(--input-background-fill);
  --input-border-color: var(--border-color-primary);
  --input-border-color-focus: var(--ctp-surface1);
  --input-border-color-hover: var(--input-border-color);
  --input-border-width: 1px;
  --input-placeholder-color: var(--ctp-surface1);
  --input-shadow: none;
  --input-shadow-focus: 0 0 0 var(--shadow-spread) var(--ctp-surface1), var(--shadow-inset);
  /* Buttons */
  --button-border-width: var(--input-border-width);
  --button-cancel-background-fill: var(--ctp-red);
  --button-cancel-background-fill-hover: var(--button-cancel-background-fill);
  --button-cancel-border-color: var(--ctp-red);
  --button-cancel-border-color-hover: var(--button-cancel-border-color);
  --button-cancel-text-color: var(--ctp-base0);
  --button-cancel-text-color-hover: var(--button-cancel-text-color);
  --button-primary-background-fill: var(--ctp-accent);
  --button-primary-background-fill-hover: var(--button-primary-background-fill);
  --button-primary-border-color: var(--ctp-accent);
  --button-primary-border-color-hover: var(--button-primary-border-color);
  --button-primary-text-color: var(--ctp-base0);
  --button-primary-text-color-hover: var(--button-primary-text-color);
  --button-secondary-background-fill: var(--ctp-surface0);
  --button-secondary-background-fill-hover: var(--button-secondary-background-fill);
  --button-secondary-border-color: var(--ctp-surface0);
  --button-secondary-border-color-hover: var(--button-secondary-border-color);
  --button-secondary-text-color: var(--ctp-text);
  --button-secondary-text-color-hover: var(--button-secondary-text-color);
  /* Others */
  --shadow-spread: none;
  --chatbot-code-background-color: var(--background-fill-primary);
  --stat-background-fill: var(--ctp-surface1);
  --loader-color: var(--color-accent);
  --slider-color: var(--ctp-accent);

  /* Params */
  --neutral-900: var(--ctp-base1);
  --neutral-950: var(--ctp-mantle);
  --ae-primary-color: var(--ctp-accent);
}

/* HTML */
html, body { background: var(--ctp-mantle) !important; }
a:hover { color: var(--ctp-accent) !important; }

select:focus,
input[type='search']:focus {
  outline: none !important;
  border: 1px solid var(--ctp-surface1) !important;
}

::selection {
  background: var(--ctp-surface1);
}
::-moz-selection { /* Code for Firefox */
  background: var(--ctp-surface1);
}

/* Hide text-field arrows */
/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
/* Firefox */
input[type='number'] {
  -moz-appearance: textfield !important;
}


/* Gradio Fiches */
/* Rounded Gradio Elements */
.gradio-row, .wrap, label, .block, .lg, .primary, .secondary, .gradio-button {
  border-radius: var(--ctp-border-radius) !important;
}
.wrap, label, .block { gap: 4px !important; }

/* Tabs Navigation (Accent Color) */
#tabs > .tab-nav > button.selected,
#txt2img_extra_tabs > .tab-nav > button.selected,
#img2img_extra_tabs > .tab-nav > button.selected,
#mode_img2img > .tab-nav > button.selected,
#tabs .gradio-tabs > .tab-nav > button.selected {
  color: var(--ctp-accent);
}

/* Selected items (tokens) in multi-select dropdown */
.wrap-inner { gap: 4px !important; }
.wrap-inner > div.token {
  border-radius: var(--ctp-border-radius) !important;
  padding: 4px 8px !important;
}

div.gradio-group > *:not(.absolute) {
  /* margin-bottom: 2px; */
  gap: 2px;
}

.gradio-button:hover,
button.lg.primary:hover,
button.lg.secondary:hover {
  filter: brightness(125%);
}

input[type='radio'],
input[type='checkbox'] {
  cursor: pointer;
  accent-color: var(--ctp-accent);
}
input[type='radio']::after, /* check icon */
input[type='checkbox']::after {
  color: var(--button-primary-text-color);
}

/* Settings Tab buttons */
.tab-nav button.selected,
.tab-nav button:hover {
  color: var(--button-primary-text-color) !important;
}

/* Gradio Buttons - Active & Hover states */
/* Target both button text and nested span elements */
button.active span,
button:hover span,
button.lg.primary:hover,
button.lg.secondary:hover,
button.lg.primary:hover span,
button.lg.secondary:hover span {
  color: var(--button-primary-text-color) !important;
}

/* Icon styling for active and hover states */
button.active .mask-icon,
button:hover .mask-icon {
  background-color: var(--button-primary-text-color) !important;
}

/* Tool buttons with mini-badges */
button.lg.tool::after {
  background-color: var(--button-primary-text-color) !important;
}


/* Main customizations */
/* Hide UX-Shits */
.layout-footer,
#sidebar_secondary_tabs {
  display: none;
}

/* Other Customizations */
.block.token-counter span {
  box-shadow: none;
}

.progressDiv .progress {
  background: var(--ctp-accent);
  color: var(--shadow);
}
.dark .progressDiv,
.progressDiv {
  background: var(--ctp-surface0);
}

.block.gradio-gallery {
  box-shadow: var(--block-shadow);
  border-width: var(--block-border-width);
  border-color: var(--block-border-color);
  border-radius: var(--block-radius);
  background: var(--block-background-fill);
}
.block.gradio-accordion {
  box-shadow: var(--block-shadow);
  border-width: var(--block-border-width);
  border-color: var(--block-border-color);
  border-radius: var(--block-radius);
}


/* === SLIDERS STYLE === */
input[type='range'] {
  font-size: 1.5rem;
}

input[type='range'] {
  color: var(--accent);
  --thumb-height: 0.5em;
  --track-height: 0.125em;
  --track-color: var(--ctp-surface0);
  --brightness-hover: 130%;
  --brightness-down: 80%;
  --clip-edges: 0.125em;
}

input[type='range'].win10-thumb {
  color: var(--ctp-accent);

  --thumb-height: 0.5em;
  --thumb-width: 0.5em;
  --clip-edges: 0.0125em;
}

@media (prefers-color-scheme: dark) {
  input[type='range'] {
    color: var(--ctp-accent);
    --track-color: var(--ctp-surface0);
  }

  input[type='range'].win10-thumb {
    color: var(--ctp-accent);
  }
}

/* === range commons === */
input[type='range'] {
  position: relative;
  background: #fff0;
  overflow: hidden;
}

input[type='range']:active {
  cursor: grabbing;
}

input[type='range']:disabled {
  filter: grayscale(1);
  opacity: 0.3;
  cursor: not-allowed;
}

/* === WebKit specific styles === */
input[type='range'],
input[type='range']::-webkit-slider-runnable-track,
input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
  transition: all ease 100ms;
  height: var(--thumb-height);
}

input[type='range']::-webkit-slider-runnable-track,
input[type='range']::-webkit-slider-thumb {
  position: relative;
}

input[type='range']::-webkit-slider-thumb {
  --thumb-radius: calc((var(--thumb-height) * 0.5) - 1px);
  --clip-top: calc((var(--thumb-height) - var(--track-height)) * 0.5 - 0.5px);
  --clip-bottom: calc(var(--thumb-height) - var(--clip-top));
  --clip-further: calc(100% + 1px);
  --box-fill: calc(-100vmax - var(--thumb-width, var(--thumb-height))) 0 0 100vmax currentColor;

  width: var(--thumb-width, var(--thumb-height));
  background: linear-gradient(currentColor 0 0) scroll no-repeat left center / 50% calc(var(--track-height) + 1px);
  background-color: currentColor;
  box-shadow: var(--box-fill);
  border-radius: var(--thumb-width, var(--thumb-height));

  filter: brightness(100%);
  clip-path: polygon(100% -1px,
      var(--clip-edges) -1px,
      0 var(--clip-top),
      -100vmax var(--clip-top),
      -100vmax var(--clip-bottom),
      0 var(--clip-bottom),
      var(--clip-edges) 100%,
      var(--clip-further) var(--clip-further));
}

input[type='range']:hover::-webkit-slider-thumb {
  filter: brightness(var(--brightness-hover));
  cursor: grab;
}

input[type='range']:active::-webkit-slider-thumb {
  filter: brightness(var(--brightness-down));
  cursor: grabbing;
}

input[type='range']::-webkit-slider-runnable-track {
  background: linear-gradient(var(--track-color) 0 0) scroll no-repeat center / 100% calc(var(--track-height) + 1px);
}

input[type='range']:disabled::-webkit-slider-thumb {
  cursor: not-allowed;
}

/* === Firefox specific styles === */
input[type='range'],
input[type='range']::-moz-range-track,
input[type='range']::-moz-range-thumb {
  appearance: none;
  transition: all ease 100ms;
  height: var(--thumb-height);
}

input[type='range']::-moz-range-track,
input[type='range']::-moz-range-thumb,
input[type='range']::-moz-range-progress {
  background: #fff0;
}

input[type='range']::-moz-range-thumb {
  background: currentColor;
  border: 0;
  width: var(--thumb-width, var(--thumb-height));
  border-radius: var(--thumb-width, var(--thumb-height));
  cursor: grab;
}

input[type='range']:active::-moz-range-thumb {
  cursor: grabbing;
}

input[type='range']::-moz-range-track {
  width: 100%;
  background: var(--track-color);
}

input[type='range']::-moz-range-progress {
  appearance: none;
  background: currentColor;
  transition-delay: 30ms;
}

input[type='range']::-moz-range-track,
input[type='range']::-moz-range-progress {
  height: calc(var(--track-height) + 1px);
  border-radius: var(--track-height);
}

input[type='range']::-moz-range-thumb,
input[type='range']::-moz-range-progress {
  filter: brightness(100%);
}

input[type='range']:hover::-moz-range-thumb,
input[type='range']:hover::-moz-range-progress {
  filter: brightness(var(--brightness-hover));
}

input[type='range']:active::-moz-range-thumb,
input[type='range']:active::-moz-range-progress {
  filter: brightness(var(--brightness-down));
}

input[type='range']:disabled::-moz-range-thumb {
  cursor: not-allowed;
}


/* all of the input range stuff is from this guy*/
/* Shout out to them https://codepen.io/ShadowShahriar/pen/zYPPYrQ */